"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_jump-to_ts"],{29902:(e,t,n)=>{let o;n.r(t),n.d(t,{clearSuggestionsCache:()=>C,getSuggestions:()=>H});var a=n(13596);function r(e,t){let n=new URL(e,window.location.origin),o=new URLSearchParams(n.search.slice(1));o.set("q",t);let a=new URLSearchParams(window.location.search).get("type");return a&&o.set("type",a),n.search=o.toString(),n.toString()}var i=n(13225),s=n(51848);let c={};function l(e){let t=e.getAttribute("data-target-type");if("Search"===t){let t=document.querySelector(".js-site-search-form"),n=t.getAttribute("data-scope-type"),o=e.getAttribute("data-item-type");n&&f({scope_id:parseInt(t.getAttribute("data-scope-id")||"").toString(),scope_type:n,target_scope:o||""}),u("search")}else("Project"===t||"Repository"===t||"Team"===t)&&(f({target_id:parseInt(e.getAttribute("data-target-id")||"").toString(),target_type:t,target_scope:"",client_rank:parseInt(e.getAttribute("data-client-rank")||"").toString(),server_rank:parseInt(e.getAttribute("data-server-rank")||"").toString()}),u("click"))}function u(e){if(!parseInt(document.head?.querySelector('meta[name="octolytics-actor-id"]')?.content||""))return!1;let t=c.session_id;return("menu-activation"!==e||!t)&&("menu-activation"===e||!!t)&&("menu-activation"===e&&f({session_id:t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}),!!t&&((0,s.BI)(`jump-to-${e}`,c),("menu-deactivation"===e||"click"===e||"search"===e)&&(c={}),!0))}function f(e){Object.assign(c,e)}function d(e){e.classList.remove("js-navigation-enable"),e.classList.remove("jump-to-field-active"),e.parentElement?.classList.remove("search-wrapper-suggestions-active")}function g(e){document.querySelector(".js-jump-to-suggestions-container")?.classList.remove("d-none"),e.classList.add("jump-to-dropdown-visible"),document.querySelector(".js-jump-to-field")?.setAttribute("aria-expanded","true")}function m(){document.querySelector(".js-jump-to-suggestions-container")?.classList.add("d-none");let e=document.querySelector(".js-jump-to-field");e?.classList.remove("jump-to-dropdown-visible"),e?.setAttribute("aria-expanded","false"),u("menu-deactivation")}function p(e){let t=e.form,n=document.querySelector(".js-jump-to-suggestions-results-container"),o=e.value.trim(),a=!!(e.form&&e.form.getAttribute("data-scope-type")),i="Repository"===(e.form&&e.form.getAttribute("data-scope-type")),s=n?.querySelector(".js-jump-to-scoped-search"),c=n?.querySelector(".js-jump-to-owner-scoped-search"),l=n?.querySelector(".js-jump-to-global-search");if(s?.classList.toggle("d-none",!o||!a),c&&c.classList.toggle("d-none",!o||!i),l?.classList.toggle("d-none",!o),o&&a){let e=t?.getAttribute("action"),a=h(s||new HTMLElement,o,r(e||"",o),!0,!1);n?.replaceChild(a,s||new HTMLElement)}if(c&&o&&a){let e=h(c,o,r(t?.getAttribute("data-owner-scoped-search-url")||"",o),!0,!0);n?.replaceChild(e,c)}if(o){let e=t?.getAttribute("data-unscoped-search-url"),a=h(l||new HTMLElement,o,r(e||"",o),!1,!1);n?.replaceChild(a,l||new HTMLElement)}}function v(e){let t=document.querySelector(".js-jump-to-suggestions-results-container");if(t){for(let e of t.querySelectorAll(".js-jump-to-suggestion"))e.parentNode?.removeChild(e);t.appendChild(e)}}function j(e,t){let n=e.querySelector(".js-jump-to-octicon"),o=n?.querySelector(t);n?.classList.remove("d-none"),o?.classList.remove("d-none")}function h(e,t,n,o,a){let r=e.cloneNode(!0);o?r.id=`jump-to-suggestion-search-${a?"scoped-owner":"scoped"}`:r.id="jump-to-suggestion-search-global";let i=r.querySelector(".js-jump-to-suggestion-path");i&&(i.href=n,i.setAttribute("data-target-type","Search"));let s=r.querySelector(".js-jump-to-suggestion-name");s&&(s.textContent=t,s.setAttribute("aria-label",t)),j(r,".js-jump-to-octicon-search");let c=r.querySelector(".js-jump-to-badge-search");return c&&(c.classList.remove("d-none"),o?c.querySelector(".js-jump-to-badge-search-text-default")?.classList.remove("d-none"):c.querySelector(".js-jump-to-badge-search-text-global")?.classList.remove("d-none")),r}function y(e){let t=document.querySelector(".js-jump-to-suggestions-container");return t?.querySelector(e)?.firstElementChild}var w=n(87622);function b(e,t){let n=e.value.trim(),o=function(e,t){let n=(0,a.lM)(t);return e.sort((e,t)=>n(t.pageKey)-n(e.pageKey))}(function(e,t,n){let o=t.replace(/\s/g,"").toLowerCase(),a=e.filter(e=>e.path!==n);return o?(0,w.d)(a,e=>{let t=e.name,n=(0,i.dt)(t,o);return n>0?{score:n,text:t}:null},i.UD):a}(t,n,window.location.pathname),(0,a.oP)()),r=o.slice(0,7);f({result_count:o.length.toString(),display_count:r.length.toString(),filter_count:(t.length-o.length).toString(),query:n,display_set:JSON.stringify(r.map(e=>[e.type,e.databaseId]))}),function(e,t,n){if(!e.form)return;let o=y(".js-jump-to-suggestions-template-container"),a=document.createDocumentFragment();if(n.length<1&&!t)(function(){if(!document.head?.querySelector('meta[name="user-login"]')?.content)return;let e=y(".js-jump-to-no-results-template-container").cloneNode(!0);e instanceof HTMLElement&&e.classList.remove("d-none"),v(e)})();else{for(let[e,r]of n.entries())a.appendChild(function(e,t,n,o){let a=e.cloneNode(!0);a.id=`jump-to-suggestion-${t.type.toLowerCase()}-${t.databaseId}`;let r=a.querySelector(".js-jump-to-suggestion-path");r&&(r.href=t.path,r.setAttribute("data-target-type",t.type),r.setAttribute("data-target-id",`${t.databaseId}`),r.setAttribute("data-client-rank",`${o}`),r.setAttribute("data-server-rank",`${t.rank}`));let s=a.querySelector(".js-jump-to-suggestion-name");switch(s&&(s.textContent=t.name,s.setAttribute("aria-label",t.name)),(0,i.He)(s||new Element,n.replace(/\s/g,"")),t.type){case"Team":{let e=a.querySelector(".js-jump-to-suggestion-avatar");e&&(e.alt=t.name,e.src=t.avatarUrl?t.avatarUrl:"",e.classList.remove("d-none"));break}case"Project":j(a,".js-jump-to-octicon-project");break;case"Repository":j(a,".js-jump-to-octicon-repo")}let c=a.querySelector(".js-jump-to-badge-jump");return c?.classList.remove("d-none"),a}(o,r,t,e));v(a)}}(e,n,r),u("menu-activation")||u("query")}var S=n(58181),L=n(70170),E=n(21403),k=n(97797),q=n(75101),x=n(78350),A=n(5225),T=n(20594);(0,E.lB)(".js-jump-to-field",{constructor:HTMLInputElement,add(e){e.addEventListener("input",(0,L.s)(async function(){p(e),I(e),b(e,await o)},100)),document.activeElement&&document.activeElement===e&&D(e)}});let _=new Map;function C(){_.clear()}async function V(e,t){let n=function(e){let t=new FormData;for(let e of Object.keys((0,a.oP)()).slice(0,10))t.append("variables[pageViews][]",e);return t}(0);n.set("_method","GET");let o=[],r=new URL(e,window.location.origin);location.search.match(/_tracing=true/)&&r.searchParams.set("graphql_query_trace","true");let i=await fetch(r.href,{method:"POST",mode:"same-origin",body:n,headers:{Accept:"application/json","Scoped-CSRF-Token":t,"X-Requested-With":"XMLHttpRequest"}});if(i.ok){let e=await i.json();(0,T.Av)(e),o=function(e){if("errors"in e.data)return[];let t=1,n=[];for(let o of e.data.suggestions.nodes)null!=o&&(o.rank=t++,o.pageKey=function(e){let t;let[n,o]=e.name.split("/")||[];switch(e.type){case"Project":t=(0,a.Ti)(e.owner.name,`${e.number}`);break;case"Repository":t=(0,a.g2)(n,o);break;case"Team":t=(0,a.$f)(n,o);break;default:throw Error(`Invalid Suggestion type: ${e.type}`)}return t}(o),"Team"===o.type&&(o.name=`@${o.name}`),n.push(o));return n}(e)}let s=document.querySelector(".js-search-commands");if(s instanceof HTMLInputElement){let e=s.value,t=[];try{t=JSON.parse(e).commands}catch(e){}o=o.concat(t)}return o}let M=0,R=(0,A.A)(V,{cache:_});async function H(e){let t=e.getAttribute("data-jump-to-suggestions-path");if(!t)throw Error("could not get jump to suggestions path");let n=function e(t,n){let o=t.nextElementSibling;return o instanceof HTMLElement?o.classList.contains(n)?o:e(o,n):null}(e,"js-data-jump-to-suggestions-path-csrf");return n?(Date.now()-M>5e3&&C(),M=Date.now(),R(t,n.value)):[]}async function D(e){e.classList.add("js-navigation-enable"),e.classList.add("jump-to-field-active"),e.parentElement?.classList.add("search-wrapper-suggestions-active"),g(e),o||(o=H(e)),p(e),I(e),b(e,await o)}(0,q.uE)(".js-jump-to-field",D),(0,k.on)("navigation:keydown",".js-site-search-form",function(e){let t=e.currentTarget.querySelector(".js-navigation-item.navigation-focus");switch(e.detail.hotkey){case"Enter":if(t)l(t.querySelector(".js-jump-to-suggestion-path"));else{let t=e.currentTarget;(0,x.k_)(t)}break;case"Escape":e.currentTarget.querySelector(".js-jump-to-field").blur(),m()}}),(0,k.on)("navigation:focus",".js-site-search-form",function(e){let t=document.querySelector(".js-jump-to-field"),n=e.target.id;for(let t of e.target.closest(".js-jump-to-suggestions-results-container").querySelectorAll(".js-navigation-item"))t.setAttribute("aria-selected",(e.target===t).toString());t.setAttribute("aria-activedescendant",n)});let U=null;function I(e){let t=e.value.trim(),n=document.querySelector(".js-jump-to-suggestions-results-container");t?(0,S.XC)(n):(0,S.Yf)(n)}(0,k.on)("focusout",".js-jump-to",function(){d(document.querySelector(".js-jump-to-field")),U=window.setTimeout(()=>{m()},0)}),(0,k.on)("focusin",".js-jump-to",function(){U&&window.clearTimeout(U),g(document.querySelector(".js-jump-to-field"))}),(0,k.on)("click",".js-jump-to-suggestion-path",function(e){let t=e.currentTarget;if("Search"===t.getAttribute("data-target-type")){let e=document.querySelector(".js-jump-to-field");t.href=function(e,t){let n=new URL(t,window.location.origin),o=new URLSearchParams(n.search.slice(1));return o.get("q")&&o.set("q",e),n.search=o.toString(),n.toString()}(e.value.trim(),t.href)}m();let n=document.querySelector(".js-jump-to-field");n&&d(n),l(t)}),(0,k.on)("submit",".js-site-search-form",function(e){document.querySelector(".js-jump-to-field")&&(e.target.getAttribute("data-scoped-search-url")&&f({}),u("search"))})},58181:(e,t,n)=>{n.d(t,{Yf:()=>b,IU:()=>x,LU:()=>S,XC:()=>q,uY:()=>k,VC:()=>E,kn:()=>A});var o=n(79024),a=n(97797),r=n(69248),i=n(18558),s=n(98164),c=n(21403);function l(e,t){let n=e,o=e.ownerDocument;if((n===o||n===o.defaultView||n===o.documentElement||n===o.body)&&(n=o),n instanceof o.defaultView.Document){let e=null!=t.top?t.top:o.defaultView.pageYOffset,n=null!=t.left?t.left:o.defaultView.pageXOffset;o.defaultView.scrollTo(n,e);return}if(!(n instanceof o.defaultView.HTMLElement))throw Error("invariant");n.scrollTop=t.top,null!=t.left&&(n.scrollLeft=t.left)}var u=n(93084);let f=navigator.userAgent.match(/Macintosh/),d=f?"metaKey":"ctrlKey",g=f?"Meta":"Control",m=!1,p={x:0,y:0};function v(e){e instanceof MouseEvent&&((p.x!==e.clientX||p.y!==e.clientY)&&(m=!1),p={x:e.clientX,y:e.clientY})}function j(e){if(m)return;let t=e.currentTarget,{target:n}=e;if(!(n instanceof Element)||!(t instanceof HTMLElement)||!t.closest(".js-active-navigation-container"))return;let o=n.closest(".js-navigation-item");o&&V(o,t)}(0,c.lB)(".js-navigation-container:not(.js-navigation-container-no-mouse)",{subscribe:e=>(0,o.Zz)((0,o.Rt)(e,"mouseover",v),(0,o.Rt)(e,"mouseover",j))});let h=0;function y(e){if(e.target!==document.body&&e.target instanceof HTMLElement&&!e.target.classList.contains("js-navigation-enable"))return;m=!0;let t=M(),n=!1;if(t){let o=t.querySelector(".js-navigation-item.navigation-focus")||t;n=(0,a.h)(o,"navigation:keydown",{hotkey:(0,i.Vy)(e),originalEvent:e,originalTarget:e.target})}n||e.preventDefault()}function w(e){let t=e.modifierKey||e.altKey||e.ctrlKey||e.metaKey;(0,a.h)(e.currentTarget,"navigation:open",{modifierKey:t,shiftKey:e.shiftKey})||e.preventDefault()}function b(e){let t=M();e!==t&&(null!==t&&S(t),e?.classList.add("js-active-navigation-container"))}function S(e){e.classList.remove("js-active-navigation-container")}(0,c.lB)(".js-active-navigation-container",{add(){1==++h&&document.addEventListener("keydown",y)},remove(){0==--h&&document.removeEventListener("keydown",y)}}),(0,a.on)("navigation:keydown",".js-active-navigation-container",function(e){let t=e.currentTarget,n=e.detail.originalTarget.matches("input, textarea"),o=e.target;if((0,s.$$)(e.detail.originalEvent)){if(o.classList.contains("js-navigation-item")){if(n){if(f)switch((0,i.Vy)(e.detail.originalEvent)){case"Control+n":_(o,t);break;case"Control+p":T(o,t)}switch((0,i.Vy)(e.detail.originalEvent)){case"ArrowUp":T(o,t);break;case"ArrowDown":_(o,t);break;case"Enter":case`${g}+Enter`:C(o,e.detail.originalEvent[d])}}else{if(f)switch((0,i.Vy)(e.detail.originalEvent)){case"Control+n":_(o,t);break;case"Control+p":T(o,t);break;case"Alt+v":(function(e,t){let n,o;let a=R(t),i=a.indexOf(e),s=(0,r.Nt)(e);if(null!=s){for(;(n=a[i-1])&&(o=(0,r.eg)(n,s))&&o.top>=0;)i--;if(n){if(V(n,t))return;D(s,n)}}})(o,t);break;case"Control+v":(function(e,t){let n,o;let a=R(t),i=a.indexOf(e),s=(0,r.Nt)(e);if(null!=s){for(;(n=a[i+1])&&(o=(0,r.eg)(n,s))&&o.bottom>=0;)i++;if(n){if(V(n,t))return;D(s,n)}}})(o,t)}switch((0,i.Vy)(e.detail.originalEvent)){case"j":case"J":_(o,t);break;case"k":case"Shift+K":T(o,t);break;case"o":case"Enter":case`${g}+Enter`:C(o,e.detail[d])}}}else{let o=R(t)[0];if(o){if(n)f&&"Control+n"===(0,i.Vy)(e.detail.originalEvent)&&V(o,t),"ArrowDown"===(0,i.Vy)(e.detail.originalEvent)&&V(o,t);else{if(f)switch((0,i.Vy)(e.detail.originalEvent)){case"Control+n":case"Control+v":V(o,t)}"j"===(0,i.Vy)(e.detail.originalEvent)&&V(o,t)}}}if(n){if(f)switch((0,i.Vy)(e.detail.originalEvent)){case"Control+n":case"Control+p":e.preventDefault()}switch((0,i.Vy)(e.detail.originalEvent)){case"ArrowUp":case"ArrowDown":case"Enter":e.preventDefault()}}else{if(f)switch((0,i.Vy)(e.detail.originalEvent)){case"Control+n":case"Control+p":case"Control+v":case"Alt+v":e.preventDefault()}switch((0,i.Vy)(e.detail.originalEvent)){case"j":case"k":case"o":case"Enter":case`${d}+Enter`:e.preventDefault()}}}}),(0,a.on)("click",".js-active-navigation-container .js-navigation-item",function(e){w(e)}),(0,a.on)("navigation:keyopen",".js-active-navigation-container .js-navigation-item",function(e){let t=e.currentTarget.classList.contains("js-navigation-open")?e.currentTarget:e.currentTarget.querySelector(".js-navigation-open");t instanceof HTMLAnchorElement?(e.detail.modifierKey?(window.open(t.href,"_blank"),window.focus()):t.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))&&t.click(),e.preventDefault()):w(e)});let L=[];function E(e){let t=M();t&&L.push(t),b(e)}function k(e){S(e),x(e);let t=L.pop();t&&b(t)}function q(e,t){let n=t||e,o=R(e)[0],a=n.closest(".js-navigation-item")||o;if(b(e),a instanceof HTMLElement){if(V(a,e))return;U((0,r.Nt)(a),a)}}function x(e){for(let t of e.querySelectorAll(".js-navigation-item.navigation-focus"))t.classList.remove("navigation-focus")}function A(e,t){x(e),q(e,t)}function T(e,t){let n=R(t),o=n.indexOf(e),a=n[o-1];if(a){if(V(a,t))return;let e=(0,r.Nt)(a);"page"===H(t)?D(e,a):U(e,a)}}function _(e,t){let n=R(t),o=n.indexOf(e),a=n[o+1];if(a){if(V(a,t))return;let e=(0,r.Nt)(a);"page"===H(t)?D(e,a):U(e,a)}}function C(e,t=!1){(0,a.h)(e,"navigation:keyopen",{modifierKey:t})}function V(e,t){return!(0,a.h)(e,"navigation:focus")||(x(t),e.classList.add("navigation-focus"),!1)}function M(){return document.querySelector(".js-active-navigation-container")}function R(e){let t=[];for(let n of e.querySelectorAll(".js-navigation-item"))n instanceof HTMLElement&&(0,u.A)(n)&&t.push(n);return t}function H(e){return e.getAttribute("data-navigation-scroll")||"item"}function D(e,t,n="smooth"){let o=(0,r.eg)(t,e);o&&(o.bottom<=0?t.scrollIntoView({behavior:n,block:"start"}):o.top<=0&&t.scrollIntoView({behavior:n,block:"end"}))}function U(e,t){let n=(0,r.uw)(t,e),o=(0,r.eg)(t,e);if(null!=n&&null!=o){if(o.bottom<=0&&document.body){let t=(null!=e.offsetParent?e.scrollHeight:document.body.scrollHeight)-(n.bottom+o.height);l(e,{top:t})}else o.top<=0&&l(e,{top:n.top})}}},20594:(e,t,n)=>{n.d(t,{Av:()=>s,BM:()=>a,Gr:()=>c,HX:()=>f,M_:()=>d,RD:()=>u,rb:()=>r});var o=n(97156);let a="GraphQLTraces",r="GraphQLTracingRefresh",i=decodeURIComponent(new URLSearchParams(o.fV.search).get("disable_clusters")||"").split(",").filter(e=>""!==e);function s(e){if(!o.cg||!c()||!e)return;let t=o.cg;t&&!t[a]&&(t[a]=[]),t&&e.__trace&&(t[a].push(e.__trace),"function"==typeof t[r]&&t[r]())}function c(){let e=o.cg;return"true"===new URLSearchParams(o.fV.search).get("_tracing")||e&&void 0!==e[a]}function l(){return i.length>0}function u(e){if(!c()&&!l())return e;let t=new URL(e,o.fV.origin);return c()&&t.searchParams.set("_tracing","true"),l()&&t.searchParams.set("disable_clusters",i.join(",")),t.pathname+t.search}function f(e){return i.indexOf(e)>-1}function d(e){let t=i.indexOf(e);t>-1?i.splice(t,1):i.push(e);let n=new URLSearchParams(o.fV.search);n.set("disable_clusters",i.join(",")),o.fV.search=n.toString()}}}]);
//# sourceMappingURL=app_assets_modules_github_jump-to_ts-ca5193ca3690.js.map